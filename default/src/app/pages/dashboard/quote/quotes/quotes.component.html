<ng-template #modal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">{{ mtitle }}</h4>
        <button type="button" class="modal-close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true"><i class="ti-close"></i></span>
        </button>
    </div>
    <div class="modal-body">
        <form action="" [formGroup]="form" (submit)="submit()" autocomplete="off">
            <div class="form-group d-none">
                <label for="">id</label>
                <input type="text" formControlName="cotizadorId" class="input">
            </div>
            <div class="form-group">
                <label for="">UserName</label>
                <input type="text" formControlName="userName" class="input">
            </div>
            <div class="form-group">
                <label for="">LastName</label>
                <input type="text" formControlName="lastName" class="input">
            </div>
            <div class="row">
                <div class="col-lg">
                    <div class="form-group">
                        <label for="">Email</label>
                        <input type="email" formControlName="email" class="input">
                        <span class="d-block text-danger" *ngIf="this.form.get('email').errors?.email">Invalid Email</span>
                    </div>
                </div>
                <div class="col-lg">
                    <div class="form-group">
                        <label for="">Password</label>
                        <input type="password" formControlName="password" class="input">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg">
                    <div class="form-group">
                        <label for="">Asignation</label>
                        <input type="number" formControlName="asignation" class="input">
                    </div>
                </div>
                <div class="col-lg">
                    <div class="form-group">
                        <label for="">Type</label>
                        <select formControlName="type" class="input">
                            <option value="-1" selected>Select</option>
                            <option value="External">External</option>
                            <option value="Internal">Internal</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="">Company</label>
                <input type="text" formControlName="company" class="input">
            </div>
            <div class="form-group">
                <label for="">CellPhone</label>
                <input type="text" formControlName="cellphone" class="input">
            </div>
            <div class="form-group">
                <label for="">Address</label>
                <input type="text" formControlName="address" class="input">
            </div>
            <div class="d-flex justify-content-center mt-4">
                <button type="submit" class="btn-submit" [disabled]="this.form.value.type == '-1'">Save</button>
                <!--<button type="button" class="btn btn-outline-dark w-100" (click)="modal.close('Save click')">Cancelar</button>-->
            </div>
        </form>
    </div>
</ng-template>
<button class="btn-custom" (click)="create(modal)"><i class="ti-plus"></i> New</button>
<table class="table user-data">
    <thead>
        <th>UserName</th>
        <th>LastName</th>
        <th>Email</th>
        <th>CellPhone</th>
        <th>Address</th>
        <th>Asignation</th>
        <th>Type</th>
        <th>Company</th>
        <th>State</th>
        <th>Actions</th>
    </thead>
    <tbody *ngIf="data">
        <tr *ngFor="let d of data">
            <td>{{ d.userName }}</td>
            <td>{{ d.lastName }}</td>
            <td>{{ d.email }}</td>
            <td>{{ d.cellphone }}</td>
            <td>{{ d.address }}</td>
            <td>{{ d.asignation }}</td>
            <td>{{ d.type }}</td>
            <td>{{ d.company }}</td>
            <td><input type="checkbox" [checked]="d.acc_state == 1" data-table="acc_state" (change)="updateState($event, d)" ></td>
            <td>
                <button class="btn-actions" (click)="edit(modal, d)"><i class="fas fa-pen"></i></button>
                <button class="btn-actions delete" (click)="deletes(d)"><i class="fas fa-trash-alt"></i></button>
            </td>
        </tr>
    </tbody>
</table>